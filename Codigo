class Vagon { 
	method capacidadPasajeros() {return 0}
	method pesoMaximo() { return 0 }
	method vagonLiviano() { return self.pesoMaximo() < 2500 }
}

class VagonPasajeros inherits Vagon 
{
	var property anchoUtil = 2
	var property largo = 10
	override method capacidadPasajeros()
	{
		if (anchoUtil <= 2.5) return largo * 8
		else return largo * 10
	}
	override method pesoMaximo() { return self.capacidadPasajeros() * 80 }
}

class VagonCarga inherits Vagon
{
	var property cargaMaxima = 0
	override method pesoMaximo() { return cargaMaxima + 160 }
}

class Formacion {
  var property vagones = []
  /*
	totalPasajeros() se lo pedimos a la clase Formacion, ya que tiene la lista de vagones, con el mensaje sum, sin parametros
	y devuelve la suma de la cantidad de pasajeros que transporta un vagon a traves del mensaje capacidadPasajeros propio del vagon
	*/
	method totalPasajeros() {
		return vagones.sum({vagon => vagon.capacidadPasajeros()})
	}
}
